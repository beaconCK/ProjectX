<template name="filmReview">
    {{#if Template.subscriptionsReady}}
        {{#with userData}}
            <form action="">
                <div class="row">
                    <div class="col-sm-10 col-sm-offset-1 col-xs-12">
                        <div class="form-group">
                            <h3>{{submittedFilm.title}}</h3>
                            <div class="embed-responsive embed-responsive-16by9">
                                <video src="{{fileURL film}}" controls preload="auto">
                                    Sorry, your browser doesn't support embedded videos, but don't worry, you can <a href="{{fileURL film}}?download=true">download it</a> and watch it with your favorite video player!
                                </video>
                            </div>
                            <h4>{{submittedFilm.genre}} - <em>{{ titlecase submittedFilm.length}} Length Film</em></h4>
                            <h5><strong>Description:</strong> {{submittedFilm.description}}</h5>
                        </div>
                        <div class="form-group">
                            <h4>Comments</h4>
                            <textarea name="comments" id="comments" cols="30" rows="6" class="form-control" placeholder="Reviewer comments"></textarea>
                        </div>
                        <div class="row">
                            <div id="ratings" class="col-sm-4 col-xs-12">
                                <h4>Rating</h4>
                                <div class="row">
                                    <div class="col-xs-8 col-xs-offset-2 col-sm-12 col-sm-offset-0 col-md-10 col-md-offset-1">
                                        <div class="list-group">
                                            <label class="list-group-item row">
                                                <div class="col-xs-3">
                                                    <input type="radio" name="rating" id="ratingLike" value="1">
                                                </div>
                                                <div class="col-xs-6">
                                                    Like
                                                </div>
                                                <div class="col-xs-3">
                                                    <span class="glyphicon glyphicon-upload"></span>
                                                </div>
                                            </label>
                                            <label class="list-group-item row">
                                                <div class="col-xs-3">
                                                    <input type="radio" name="rating" id="ratingNeutral" value="0">
                                                </div>
                                                <div class="col-xs-6">
                                                    Neutral
                                                </div>
                                                <div class="col-xs-3">
                                                    <span class="glyphicon glyphicon-record"></span>
                                                </div>
                                            </label>
                                            <label class="list-group-item row">
                                                <div class="col-xs-3">
                                                    <input type="radio" name="rating" id="ratingDislike" value="-1">
                                                </div>
                                                <div class="col-xs-6">
                                                    Dislike
                                                </div>
                                                <div class="col-xs-3">
                                                    <span class="glyphicon glyphicon-download"></span>
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-sm-6 col-sm-offset-6 col-xs-12">
                                <div class="row">
                                    <div class="col-xs-6">
                                        <button type="cancel" class="btn btn-default btn-block">Discard Changes</button>
                                    </div>
                                    <div class="col-xs-6">
                                        <button type="submit" class="btn btn-success btn-block" id="filmSubmit">Save Review</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>


            <style>
                /**************************/
                /* styles for ratings box */
                /**************************/
                #ratings .glyphicon {
                    font-size: 24px;
                    line-height: 14px;
                    vertical-align: sub;
                }
                #ratings .list-group-item {
                    /* make whole list-group's pill-shape act like anchor tag */
                    cursor: pointer;
                }
                #ratings .list-group .row {
                    /*remove bootstrap style for here only*/
                    margin-right: 0;
                    margin-left: 0;
                }
                #ratings div:first-child {
                    text-align: right;
                }
                #ratings div {
                    text-align: center;
                }
                #ratings div:last-child {
                    text-align: left;
                }
            </style>

            <script>
                $(document).ready(function() {
                    // add visual class to ratings radio when selected
                    $('.list-group-item').click(function() {
                        $('.list-group-item').removeClass('active');
                        $(this).addClass('active');
                    });
                });
            </script>
        {{/with}}
    {{else}}
        <p>Loading...</p>
    {{/if}}
</template>
